{% extends "AdminBundle::liste.html.twig" %}

{% block contentInfo %}
{% if app.session.flashbag.get('info') is defined %} 
{% for message in app.session.flashbag.get('info') %}
<p>{{ message }}</p>
{% endfor %}
{% endif %}
{% endblock %}

{% block contentTablehead %}
	<th class="col-xs-1" data-field="id" data-sortable="true">Id</th>
	<th class="col-xs-2" data-field="libelleActivite" data-sortable="true">Libelle Activite</th>
	<th class="col-xs-2" data-field="participants" data-sortable="true">Participants</th>
	<th class="col-xs-2" data-field="dateCreation" data-sortable="true">Date creation</th>
	<th class="col-xs-2" data-field="dateModification" data-sortable="true">Date Modification</th>
	<th class="col-xs-1" data-field="action" > </th>
{% endblock %}

{% block contentTableBody %}
{% if listeReservations is defined %} 
{% for reservation in listeReservations %}
	<tr>
		<td>{{ reservation.id }}</td>
		<td>{{ reservation.activite.libelle }}</td>
		<td>
{% if reservation.utilisateurs is defined %} 
{% for participant in reservation.utilisateurs %}
<p>{{participant}}</p>		
{% endfor %}
{% endif %}		
		</td>
		<td>{{ reservation.dateCreation|date('Y-m-d H:i:s') }}</td>
		<td>{{ reservation.dateModification|date('Y-m-d H:i:s') }}</td>
		<td class="center">
			<div class="btn-group pull-right">
                <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                    Actions
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li>
						<a class="" href="{{ path('prendreReservation',{'id': reservation.id}) }}">
							<i class="glyphicon glyphicon-edit icon-white"></i>
							Modifier
						</a>
					</li>
					 <li class="divider"></li>
					<li>
						<a class="delete-content" href="{{ path('supprimerReservation',{'id': reservation.id}) }}" >
						<i class="glyphicon glyphicon-trash icon-white"></i>
						Supprimer
					</a>
					</li>
                </ul>
            </div>
			
			
			
		</td>
	</tr>
	{% endfor %}
{% endif %}
{% endblock %}